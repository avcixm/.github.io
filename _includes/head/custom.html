<link rel="stylesheet" href="{{ '/assets/css/overrides.css' | relative_url }}">

<script>
document.addEventListener('DOMContentLoaded', function () {
  document.querySelectorAll('a[href]').forEach(function (a) {
    var href = a.getAttribute('href');
    if (!href || href.startsWith('#')) return;

    // only http(s) links, and only if host differs from this site
    if (/^https?:\/\//i.test(href)) {
      var u = new URL(href, document.baseURI);
      if (u.hostname !== location.hostname) {
        a.setAttribute('target', '_blank');
        a.setAttribute('rel', 'noopener noreferrer');
      }
    }
  });
});
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  document.querySelectorAll('details.hover-open').forEach(function (det) {
    const sum = det.querySelector('summary');
    if (!sum) return;

    // Open on hover / focus
    det.addEventListener('mouseenter', () => { det.open = true; });
    det.addEventListener('mouseleave', () => { det.open = false; });
    sum.addEventListener('focus', () => { det.open = true; });
    sum.addEventListener('blur',  () => { det.open = false; });

    // Keep click working for mobile/keyboard (no changes needed)
    // Optional: ESC closes
    sum.addEventListener('keydown', (e) => { if (e.key === 'Escape') det.open = false; });
  });
});
</script>
