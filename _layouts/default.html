<script>
document.addEventListener('DOMContentLoaded', function () {
  var anchors = document.querySelectorAll('a[href]');
  anchors.forEach(function (a) {
    var href = a.getAttribute('href');
    if (!href) return;                     // no href
    if (href.startsWith('#')) return;      // in-page anchor

    // treat absolute http(s) links to a different host as external
    var isExternal = /^https?:\/\//i.test(href) &&
                     (new URL(href, location.href)).hostname !== location.hostname;

    if (isExternal) {
      a.setAttribute('target', '_blank');
      a.setAttribute('rel', 'noopener noreferrer');
    }
  });
});
</script>
  </body>
</html>

